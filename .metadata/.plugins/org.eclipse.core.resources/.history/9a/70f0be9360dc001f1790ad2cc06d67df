/*
 * KalmanFilter_C_CMSIS.c
 *
 *  Created on: Jan 26, 2025
 *      Author: Neil
 */


void KalmanFilter_C_CMSIS (kalman_state_C_CMSIS* kState, float32_t measurement){

	kState->p = kState->p + kState->q;
	kState->k = kState->p / (kState->p + kState->r);
	kState->x = kState->x + kState->k * (measurement - kState->x);
	kState->p = (1.0f-kState->x) * kState->p;

}
